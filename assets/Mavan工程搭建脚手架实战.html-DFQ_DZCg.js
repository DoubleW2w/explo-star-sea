import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,o as a,a as n}from"./app-BpSwnEP9.js";const e={},l=n(`<h2 id="引入" tabindex="-1"><a class="header-anchor" href="#引入"><span>引入</span></a></h2><p>Maven 环境的安装和Maven语法问题，我这里就不再赘述，网上有很多资料可以学习。</p><p>在学习 Maven 工程搭建脚手架的过程中，我有以下几个问题：</p><ol><li>脚手架的基础模板工程</li><li>Maven 是通过什么插件完成</li><li>它是怎么知道我的工程名称叫dw2w，从而让工程目录、包名进行发生改动的。</li></ol><h2 id="创建模板项目" tabindex="-1"><a class="header-anchor" href="#创建模板项目"><span>创建模板项目</span></a></h2><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tree</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> demo-app</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">   |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pom.xml</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> src</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> main</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">   |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> java</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">   |</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> com</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">   |</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> doublew2w</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">   |</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Application.java</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> resources</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> application.yml</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> test</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> java</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> demo-domain</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">   |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pom.xml</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> src</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> main</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">   |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> java</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">   |</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> com</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">   |</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> doublew2w</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">   |</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> App.java</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> resources</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> test</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> java</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> demo-trigger</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">   |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pom.xml</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> src</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> main</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">   |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> java</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">       |</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> resources</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> test</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> java</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pom.xml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127211752474.png" alt="image-20241127211752474" loading="lazy"></p><p>在根目录的 pom.xml 文件中引入 <code>maven-archetype-plugin</code> 插件</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;plugins&gt;</span></span>
<span class="line"><span>  &lt;plugin&gt;</span></span>
<span class="line"><span>    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</span></span>
<span class="line"><span>    &lt;artifactId&gt;maven-archetype-plugin&lt;/artifactId&gt;</span></span>
<span class="line"><span>    &lt;version&gt;3.2.1&lt;/version&gt;</span></span>
<span class="line"><span>    &lt;executions&gt;</span></span>
<span class="line"><span>      &lt;execution&gt;</span></span>
<span class="line"><span>        &lt;goals&gt;</span></span>
<span class="line"><span>          &lt;goal&gt;create-from-project&lt;/goal&gt;</span></span>
<span class="line"><span>        &lt;/goals&gt;</span></span>
<span class="line"><span>      &lt;/execution&gt;</span></span>
<span class="line"><span>    &lt;/executions&gt;</span></span>
<span class="line"><span>    &lt;configuration&gt;</span></span>
<span class="line"><span>      &lt;encoding&gt;\${project.build.sourceEncoding}&lt;/encoding&gt;</span></span>
<span class="line"><span>    &lt;/configuration&gt;</span></span>
<span class="line"><span>  &lt;/plugin&gt;</span></span>
<span class="line"><span>&lt;/plugins&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当我们执行命令 <code>mvn archetype:create-from-project</code> ,就会在 <code>target</code> 目录看到跟我们一模一样的项目目录。</p><p><img src="https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127212149416.png" alt="image-20241127212149416" loading="lazy"></p><p>安装到本地仓库</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> target/generated-sources/archetype</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> intall</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>在本地仓库的根目录生成 archetype-catalog.xml 文件（骨架配置文件）</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mvn</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> archetype:crawl</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="添加-idea" tabindex="-1"><a class="header-anchor" href="#添加-idea"><span>添加 idea</span></a></h2><p>根据pom文件的 GAV 来添加,这个信息，在你创建模板工程时就可以知道，你也可以到本地仓库查看。</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>  &lt;groupId&gt;org.example&lt;/groupId&gt;</span></span>
<span class="line"><span>  &lt;artifactId&gt;multi-part-archetype-demo-archetype&lt;/artifactId&gt;</span></span>
<span class="line"><span>  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span></span>
<span class="line"><span>  &lt;packaging&gt;maven-archetype&lt;/packaging&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127213213107.png" alt="image-20241127213213107" loading="lazy"></p><p>你可以根据 <code>GroupId</code>、<code>ArtifactId</code>、<code>Version</code> 或者 本地目录 <code>Catalog</code> 来添加</p><p><img src="https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127213258470.png" alt="image-20241127213258470" loading="lazy"></p><p>添加以后，就能看到我们添加的模板工程</p><p><img src="https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127213413653.png" alt="image-20241127213413653" loading="lazy"></p><h2 id="自定义模板变量" tabindex="-1"><a class="header-anchor" href="#自定义模板变量"><span>自定义模板变量</span></a></h2><p>参考官网的配置 <a href="https://maven.apache.org/archetype/maven-archetype-plugin/create-from-project-mojo.html#propertyFile" target="_blank" rel="noopener noreferrer">archetype.properties文件</a></p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" data-title="properties" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>package=com.doublew2w</span></span>
<span class="line"><span>groupId=com.doublew2w</span></span>
<span class="line"><span>artifactId=basic</span></span>
<span class="line"><span>version=0.1-SNAPSHOT</span></span>
<span class="line"><span>excludePatterns=**/.idea/**,**/*.iml</span></span>
<span class="line"><span>archetype.languages=java</span></span>
<span class="line"><span>archetype.filteredExtensions=java,yml,xml,properties</span></span>
<span class="line"><span># Custom Properties</span></span>
<span class="line"><span>appName=XiaoMing</span></span>
<span class="line"><span>applicationName=XiaoHong</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当我们在执行 <code>mvn archetype:create-from-project</code> 就会发现生成的目录有发生变化</p><p><img src="https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127215719048.png" alt="image-20241127215719048" loading="lazy"></p><p>为了让自定义的变量起作用，我们得添加变量名，同时这个功能也可以用在改目录名字上</p><p><img src="https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127220659386.png" alt="image-20241127220659386" loading="lazy"></p><p>然后修改对应的 <code>archetype-metadata.xml</code> 文件</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span>
<span class="line"><span>&lt;archetype-descriptor xsi:schemaLocation=&quot;https://maven.apache.org/plugins/maven-archetype-plugin/archetype-descriptor/1.1.0 http://maven.apache.org/xsd/archetype-descriptor-1.1.0.xsd&quot; name=&quot;multi-part-archetype-demo&quot;</span></span>
<span class="line"><span>                      xmlns=&quot;https://maven.apache.org/plugins/maven-archetype-plugin/archetype-descriptor/1.1.0&quot;</span></span>
<span class="line"><span>                      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;</span></span>
<span class="line"><span>  &lt;requiredProperties&gt;</span></span>
<span class="line"><span>    &lt;requiredProperty key=&quot;appName&quot;&gt;</span></span>
<span class="line"><span>      &lt;defaultValue&gt;XiaoMing&lt;/defaultValue&gt;</span></span>
<span class="line"><span>    &lt;/requiredProperty&gt;</span></span>
<span class="line"><span>    &lt;requiredProperty key=&quot;applicationName&quot;&gt;</span></span>
<span class="line"><span>      &lt;defaultValue&gt;XiaoHong&lt;/defaultValue&gt;</span></span>
<span class="line"><span>    &lt;/requiredProperty&gt;</span></span>
<span class="line"><span>  &lt;/requiredProperties&gt;</span></span>
<span class="line"><span>  &lt;modules&gt;</span></span>
<span class="line"><span>    &lt;module id=&quot;\${rootArtifactId}-demo-app&quot; dir=&quot;__rootArtifactId__-demo-app&quot; name=&quot;\${rootArtifactId}-demo-app&quot;&gt;</span></span>
<span class="line"><span>      &lt;fileSets&gt;</span></span>
<span class="line"><span>        &lt;fileSet filtered=&quot;true&quot; packaged=&quot;true&quot; encoding=&quot;UTF-8&quot;&gt;</span></span>
<span class="line"><span>          &lt;directory&gt;src/main/java&lt;/directory&gt;</span></span>
<span class="line"><span>          &lt;includes&gt;</span></span>
<span class="line"><span>            &lt;include&gt;**/*.java&lt;/include&gt;</span></span>
<span class="line"><span>          &lt;/includes&gt;</span></span>
<span class="line"><span>        &lt;/fileSet&gt;</span></span>
<span class="line"><span>        &lt;fileSet encoding=&quot;UTF-8&quot;&gt;</span></span>
<span class="line"><span>          &lt;directory&gt;src/main/resources&lt;/directory&gt;</span></span>
<span class="line"><span>          &lt;includes&gt;</span></span>
<span class="line"><span>            &lt;include&gt;**/*.yml&lt;/include&gt;</span></span>
<span class="line"><span>          &lt;/includes&gt;</span></span>
<span class="line"><span>        &lt;/fileSet&gt;</span></span>
<span class="line"><span>      &lt;/fileSets&gt;</span></span>
<span class="line"><span>    &lt;/module&gt;</span></span>
<span class="line"><span>    &lt;module id=&quot;\${rootArtifactId}-demo-domain&quot; dir=&quot;__rootArtifactId__-demo-domain&quot; name=&quot;\${rootArtifactId}-demo-domain&quot;&gt;</span></span>
<span class="line"><span>      &lt;fileSets&gt;</span></span>
<span class="line"><span>        &lt;fileSet filtered=&quot;true&quot; packaged=&quot;true&quot; encoding=&quot;UTF-8&quot;&gt;</span></span>
<span class="line"><span>          &lt;directory&gt;src/main/java&lt;/directory&gt;</span></span>
<span class="line"><span>          &lt;includes&gt;</span></span>
<span class="line"><span>            &lt;include&gt;**/*.java&lt;/include&gt;</span></span>
<span class="line"><span>          &lt;/includes&gt;</span></span>
<span class="line"><span>        &lt;/fileSet&gt;</span></span>
<span class="line"><span>      &lt;/fileSets&gt;</span></span>
<span class="line"><span>    &lt;/module&gt;</span></span>
<span class="line"><span>    &lt;module id=&quot;\${rootArtifactId}-demo-trigger&quot; dir=&quot;__rootArtifactId__-demo-trigger&quot; name=&quot;\${rootArtifactId}-demo-trigger&quot; /&gt;</span></span>
<span class="line"><span>  &lt;/modules&gt;</span></span>
<span class="line"><span>&lt;/archetype-descriptor&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当我们在重新添加到idea时，就会发现有可选用的属性</p><p><img src="https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127221142758.png" alt="image-20241127221142758" loading="lazy"></p><p>建立成功以后，就发现脚手架已经成功</p><p><img src="https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127221313528.png" alt="image-20241127221313528" loading="lazy"></p><h2 id="补充内容" tabindex="-1"><a class="header-anchor" href="#补充内容"><span>补充内容</span></a></h2><table><thead><tr><th>Variable</th><th>Meaning</th><th></th></tr></thead><tbody><tr><td><code>_rootArtifactId__</code></td><td>做文件夹名替换用，例如<code>__rootArtifactId__-dao</code>, 占位符来动态获取父工程的 ArtifactId</td><td></td></tr><tr><td><code>\${rootArtifactId}</code></td><td>建立项目时需要设置的 rootArtifactId</td><td></td></tr><tr><td><code>\${artifactId}</code></td><td>如果您的项目由一个模块组成，则此变量的值将与 \${rootArtifactId} 相同，但如果项目包含多个模块，则此变量将由每个模块文件夹中的模块名替换</td><td></td></tr><tr><td><code>\${package}</code></td><td>用户为项目提供的包</td><td></td></tr><tr><td><code>\${packageInPathFormat}</code></td><td>与\${package}变量的值相同，但将“.”替换为字符“/”，例如：，对于包com.foo.bar，此变量为com/foo/bar，可以解决比如配置文件中需要 <code>/</code> 的问题</td><td></td></tr><tr><td><code>\${groupId}</code></td><td>为项目提供的groupid</td><td></td></tr><tr><td><code>\${version}</code></td><td>版本号</td><td></td></tr></tbody></table><p>我们可以在想要替换的地方设置模板变量，但真正的模板变量的值是来自用户输入的，比如建立项目时需要提供的信息。路径中的参数是双下划线<code>__参数名__</code>，文件内部的参数是<code>\${参数名}</code></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>  &lt;requiredProperties&gt;</span></span>
<span class="line"><span>    &lt;requiredProperty key=&quot;appName&quot;&gt;</span></span>
<span class="line"><span>      &lt;defaultValue&gt;XiaoMing&lt;/defaultValue&gt;</span></span>
<span class="line"><span>    &lt;/requiredProperty&gt;</span></span>
<span class="line"><span>    &lt;requiredProperty key=&quot;applicationName&quot;&gt;</span></span>
<span class="line"><span>      &lt;defaultValue&gt;XiaoHong&lt;/defaultValue&gt;</span></span>
<span class="line"><span>    &lt;/requiredProperty&gt;</span></span>
<span class="line"><span>  &lt;/requiredProperties&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这部分在 <code>archetype-metadata.xml</code> 内容就是来定义自定义参数的。</p><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h2><p><a href="https://blog.csdn.net/u011731544/article/details/132322425" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/u011731544/article/details/132322425</a></p><p><a href="https://bugstack.cn/md/road-map/ddd-archetype.html" target="_blank" rel="noopener noreferrer">https://bugstack.cn/md/road-map/ddd-archetype.html</a></p><p><a href="https://bugstack.cn/md/road-map/ddd-archetype-maven.html" target="_blank" rel="noopener noreferrer">https://bugstack.cn/md/road-map/ddd-archetype-maven.html</a></p><p><a href="https://maven.apache.org/archetype/maven-archetype-plugin/" target="_blank" rel="noopener noreferrer">https://maven.apache.org/archetype/maven-archetype-plugin/</a></p>`,46),t=[l];function p(d,r){return a(),i("div",null,t)}const o=s(e,[["render",p],["__file","Mavan工程搭建脚手架实战.html.vue"]]),k=JSON.parse('{"path":"/temp/Mavan%E5%B7%A5%E7%A8%8B%E6%90%AD%E5%BB%BA%E8%84%9A%E6%89%8B%E6%9E%B6%E5%AE%9E%E6%88%98.html","title":"Mavan工程搭建脚手架实战.md","lang":"zh-CN","frontmatter":{"title":"Mavan工程搭建脚手架实战.md","date":"2024-11-27T00:00:00.000Z","tags":["Maven"],"description":"引入 Maven 环境的安装和Maven语法问题，我这里就不再赘述，网上有很多资料可以学习。 在学习 Maven 工程搭建脚手架的过程中，我有以下几个问题： 脚手架的基础模板工程 Maven 是通过什么插件完成 它是怎么知道我的工程名称叫dw2w，从而让工程目录、包名进行发生改动的。 创建模板项目 image-20241127211752474 在根目...","head":[["meta",{"property":"og:url","content":"https://doublew2w.cn/temp/Mavan%E5%B7%A5%E7%A8%8B%E6%90%AD%E5%BB%BA%E8%84%9A%E6%89%8B%E6%9E%B6%E5%AE%9E%E6%88%98.html"}],["meta",{"property":"og:site_name","content":"DoubleW2w"}],["meta",{"property":"og:title","content":"Mavan工程搭建脚手架实战.md"}],["meta",{"property":"og:description","content":"引入 Maven 环境的安装和Maven语法问题，我这里就不再赘述，网上有很多资料可以学习。 在学习 Maven 工程搭建脚手架的过程中，我有以下几个问题： 脚手架的基础模板工程 Maven 是通过什么插件完成 它是怎么知道我的工程名称叫dw2w，从而让工程目录、包名进行发生改动的。 创建模板项目 image-20241127211752474 在根目..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127211752474.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-27T16:18:14.000Z"}],["meta",{"property":"article:author","content":"Doublew2w"}],["meta",{"property":"article:tag","content":"Maven"}],["meta",{"property":"article:published_time","content":"2024-11-27T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-27T16:18:14.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Mavan工程搭建脚手架实战.md\\",\\"image\\":[\\"https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127211752474.png\\",\\"https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127212149416.png\\",\\"https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127213213107.png\\",\\"https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127213258470.png\\",\\"https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127213413653.png\\",\\"https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127215719048.png\\",\\"https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127220659386.png\\",\\"https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127221142758.png\\",\\"https://doublew2w-note-resource.oss-cn-hangzhou.aliyuncs.com/img/image-20241127221313528.png\\"],\\"datePublished\\":\\"2024-11-27T00:00:00.000Z\\",\\"dateModified\\":\\"2024-11-27T16:18:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Doublew2w\\",\\"url\\":\\"https://doublew2w.cn\\"}]}"]]},"headers":[{"level":2,"title":"引入","slug":"引入","link":"#引入","children":[]},{"level":2,"title":"创建模板项目","slug":"创建模板项目","link":"#创建模板项目","children":[]},{"level":2,"title":"添加 idea","slug":"添加-idea","link":"#添加-idea","children":[]},{"level":2,"title":"自定义模板变量","slug":"自定义模板变量","link":"#自定义模板变量","children":[]},{"level":2,"title":"补充内容","slug":"补充内容","link":"#补充内容","children":[]},{"level":2,"title":"参考资料","slug":"参考资料","link":"#参考资料","children":[]}],"git":{"createdTime":1732724294000,"updatedTime":1732724294000,"contributors":[{"name":"DoubleW2w","email":"1049951363@qq.com","commits":1}]},"readingTime":{"minutes":3.61,"words":1082},"filePathRelative":"__temp/Mavan工程搭建脚手架实战.md","localizedDate":"2024年11月27日","excerpt":"<h2>引入</h2>\\n<p>Maven 环境的安装和Maven语法问题，我这里就不再赘述，网上有很多资料可以学习。</p>\\n<p>在学习 Maven 工程搭建脚手架的过程中，我有以下几个问题：</p>\\n<ol>\\n<li>脚手架的基础模板工程</li>\\n<li>Maven 是通过什么插件完成</li>\\n<li>它是怎么知道我的工程名称叫dw2w，从而让工程目录、包名进行发生改动的。</li>\\n</ol>","autoDesc":true}');export{o as comp,k as data};
